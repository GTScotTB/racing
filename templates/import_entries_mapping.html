<form method="POST" action="{{ url_for('import_entries') }}">
  <!-- Store CSV data as a hidden JSON string -->
  <input type="hidden" name="csv_data" value='{{ csv_data|tojson }}'>

  <p>Please select which CSV column corresponds to each database field.</p>

  <label for="map_vehicle_number">Vehicle Number (required):</label>
  <select name="map_vehicle_number" id="map_vehicle_number" required>
      <option value="">-- Select CSV Column --</option>
      {% for header in headers %}
          <option value="{{ header }}">{{ header }}</option>
      {% endfor %}
  </select>

  <label for="map_vehicle_make_model">Vehicle Make & Model (required):</label>
  <select name="map_vehicle_make_model" id="map_vehicle_make_model" required>
      <option value="">-- Select CSV Column --</option>
      {% for header in headers %}
          <option value="{{ header }}">{{ header }}</option>
      {% endfor %}
  </select>

  <label for="map_driver_name">Driver's Name (required):</label>
  <select name="map_driver_name" id="map_driver_name" required>
      <option value="">-- Select CSV Column --</option>
      {% for header in headers %}
          <option value="{{ header }}">{{ header }}</option>
      {% endfor %}
  </select>

  <label for="map_class_type">Class (required):</label>
  <select name="map_class_type" id="map_class_type" required>
      <option value="">-- Select CSV Column --</option>
      {% for header in headers %}
          <option value="{{ header }}">{{ header }}</option>
      {% endfor %}
  </select>

  <label for="map_garage_number">Garage Number (optional):</label>
  <select name="map_garage_number" id="map_garage_number">
      <option value="">-- Not Mapped --</option>
      {% for header in headers %}
          <option value="{{ header }}">{{ header }}</option>
      {% endfor %}
  </select>

  <label for="map_log_book_number">Log Book Number (optional):</label>
  <select name="map_log_book_number" id="map_log_book_number">
      <option value="">-- Not Mapped --</option>
      {% for header in headers %}
          <option value="{{ header }}">{{ header }}</option>
      {% endfor %}
  </select>

  <button type="submit">Import</button>
</form>
